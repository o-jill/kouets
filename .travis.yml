language: cpp
compiler: gcc
before_install:
  - sudo add-apt-repository --yes ppa:ubuntu-sdk-team/ppa
  - sudo apt-get update -qq
  - sudo apt-get install -qq g++ qt4-qmake libqt4-dev
script:
  - gem install travis
  - travis encrypt COVERITY_SCAN_TOKEN=XyrXewEvipHiztv3wJH34w
  - qmake -qt=qt4 -v ./src/kouets.pro
  - qmake -qt=qt4 ./src/kouets.pro
  - ./src/gen_git_hash.sh H kouetshash
  - ./src/gen_git_hash.sh CPP kouetshash
  - make

#env:
#  global:
#    # COVERITY_SCAN_TOKEN
#    # ** specific to your project **
#    - secure: "xxx"
#addons:
#  coverity_scan:
#    # GitHub project metadata
#    # ** specific to your project **
#    project:
#      name: o-jill/kouets
#      version: 1.0
#      description: Kouets
#    # Where email notification of build analysis results will be sent
#    notification_email: nobaokix@gmail.com
#    # Commands to prepare for build_command
#    # ** likely specific to your build **
#    build_command_prepend: qmake -qt=qt4 ./src/kouets.pro
#    # The command that will be added as an argument to "cov-build" to compile your project for analysis,
#    # ** likely specific to your build **
#    build_command: make
#    # Pattern to match selecting branches that will run analysis. We recommend leaving this set to 'coverity_scan'.
#    # Take care in resource usage, and consider the build frequency allowances per
#    #   https://scan.coverity.com/faq#frequency
#    branch_pattern: coverity_scan
